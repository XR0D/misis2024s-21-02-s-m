# misis2024s-21-02-suchoruchenkov-m-e

# Отчет по 1 ЛР

Цель:

Достижение навыков работы с изображениями, в том числе их создание и обработка, с применением основных функций библиотеки OpenCV.

Ход выполнения:

В рамках первой лабораторной работы было разработано консольное приложение, предназначенное для создания одноканального изображения с градиентной и гамма-скорректированной заливкой. Гамма-коррекция реализована в виде соответствующей функции.

Основные моменты программы:

1. Функция `gammaCorrection` принимает изображение в формате OpenCV Mat и коэффициент гамма, используемый для коррекции яркости изображения. 
   - Для каждого значения интенсивности пикселя от 0 до 255 вычисляется новое значение с учетом гамма-коррекции.
   - Затем с помощью функции `cv::LUT` применяется Look-Up Table (LUT) к изображению для применения гамма-коррекции.

2. В функции `main`:
   - Программа принимает параметры из командной строки для настройки размеров изображения, высоты и ширины полос, значения гамма и имени файла для сохранения результата.
   - Создается изображение с черно-белыми полосами по всему спектру яркости (от черного до белого).
   - Выбирается область интереса (ROI) изображения для применения гамма-коррекции.
   - Применяется функция `gammaCorrection` к выбранной области с указанным значением гамма.
   - Если не указано имя файла для сохранения, результат отображается в окне с помощью `cv::imshow`.
   - Если указано имя файла для сохранения, результат сохраняется в указанном файле.

Программа демонстрирует применение гамма-коррекции к определенной области изображения с заданными параметрами.
Вывод:

![lab1](prj.lab/lab01/lab1.png "lab01")

# Отчет по 2 ЛР

Цель:

Научиться создавать и анализировать гистограммы яркости изображений с различными значениями среднеквадратичного отклонения шума.

Ход работы:

В рамках второй лабораторной работы были реализованы необходимые функции для генерации изображений с четырьмя уровнями яркости, построения гистограмм яркости на квадратном растре и добавления аддитивного нормального несмещенного шума.

Основные моменты программы:

1. Функция `generateTestImage` создает тестовое изображение с заданными уровнями интенсивности для трех областей: прямоугольной, круговой и центральной.
   - Изображение создается размером 256x256 пикселей с начальным заполнением нулями.
   - Затем на изображении рисуются прямоугольные, круговые и центральные области с заданными уровнями интенсивности.
   - Функция возвращает созданное изображение.

2. Функция `drawHistogram` создает гистограмму изображения.
   - Используя функцию `cv::calcHist`, вычисляется гистограмма интенсивности пикселей на изображении.
   - Гистограмма нормализуется и отображается в виде графика на фоне.

3. Функция `addNoise` добавляет шум к изображению.
   - Для каждого пикселя изображения генерируется случайное значение с помощью метода Box-Muller для получения нормально распределенного шума.
   - Заданное стандартное отклонение шума учитывается при добавлении шума к пикселям изображения.

4. В функции `main`:
   - Задаются параметры для интенсивности и уровня шума.
   - Создается базовое изображение размером 256x256 пикселей, в котором будут размещены тестовые изображения, гистограммы и изображения с добавленным шумом.
   - Для каждого набора параметров интенсивности и уровня шума:
     - Создается тестовое изображение с заданными уровнями интенсивности.
     - Рисуется гистограмма для тестового изображения.
     - Создается изображение с добавленным шумом.
     - Рисуется гистограмма для изображения с шумом.
     - Все изображения размещаются вертикально в базовом изображении.
   - Итоговое изображение отображается с помощью `cv::imshow`.

Программа создает и отображает серию тестовых изображений с гистограммами и добавленным шумом для различных уровней интенсивности и шума.

Вывод:

![lab2](prj.lab/lab02/lab2.png "lab02")

# Отчет по 3 ЛР

Цель:

Научиться созданию и примененнию функций автоконтрастирования черно-белых и цветных изображений по квантилям.

Ход работы:

В рамках второй лабораторной работы были реализовано консольное приложение с функциями для автоконтрастирования черно-белых и цветных изображений по квантилям.

Вывод:

Автоконтрастирование изображений:

Черно-белое при q0 = 0.3 и q1 = 0.7:

![1](prj.lab/lab03/1.png "lab03")

Цветное при при q0 = 0.4 и q1 = 0.6:

![2](prj.lab/lab03/2.png "lab03")



# Отчет по 5 ЛР

Цель:

Автоконтрастирование по квантилям черного и белого одноканального изображения.

Ход работы:

Код принимает на вход размер изображений и радиус кругов, затем генерирует тестовое изображение с кругами различной интенсивности.

Затем в функции main задаются ядро фильтра (kernel) и транспонированное ядро (kernelTran). Используя функцию cv::filter2D, изображение фильтруется с помощью этих ядер. После фильтрации для каждого пикселя вычисляется новое значение интенсивности на основе предыдущего значения с использованием линейной функции c(x) = 127.5 + 0.2 * c_prev(x). Это позволяет нормализовать диапазон интенсивности пикселей от [-255, 255] до [0, 255], учитывая возможные отрицательные значения после фильтрации. Этот процесс повторяется как для kernel, так и для kernelTran.

Далее на основе двух полученных изображений вычисляется третье изображение по формуле sqrt(x1x1 + x2x2), где x1 и x2 - значения интенсивности соответствующих пикселей из двух изображений.

Наконец, три изображения объединяются в одно трехканальное изображение, где каждый канал соответствует результатам фильтрации и вычисления производной изображений.

Таким образом, данный код выполняет операции фильтрации изображений, нормализации интенсивности, вычисления производных и объединения результатов в трехканальное изображение для дальнейшего анализа и визуализации.

Основные моменты программы:

1. Функция `testImage` создает изображение с различными кругами разного цвета на фоне. Функция принимает ширину и высоту изображения, а также радиус кругов.
2. В функции `main`:
   - Создается изображение с помощью функции `testImage` с заданными параметрами.
   - Отображается начальное изображение.
   - Создается ядро для фильтрации (пример - дискретная аппроксимация производной).
   - Применяется фильтрация изображения с помощью функции `cv::filter2D`.
   - Результат фильтрации преобразуется в отображаемый формат (CV_8UC1) с помощью цикла для корректного отображения.
   - Второе ядро создается для фильтрации транспонированным образом.
   - Фильтрация второго ядра и преобразование результата аналогично первому ядру.
   - Вычисляется производная по двум направлениям и результат сохраняется в отдельное изображение.
   - Создается трехканальное изображение, объединяющее результаты фильтрации в разные каналы.
   - Отображаются промежуточные и конечное результаты фильтрации.

Вывод:

![1](prj.lab/lab05/5.png "lab05")

# Отчет по 9 ЛР

Цель:
Выполнить цветокоррекцию изображения.

Функция `greyWorldCorrection` принимает на вход изображение в формате OpenCV Mat и выполняет следующие действия:
1. Разделяет изображение на отдельные каналы цвета.
2. Вычисляет среднее значение яркости пикселей для всего изображения.
3. Вычисляет среднее значение яркости для каждого канала цвета.
4. Вычисляет коэффициенты масштабирования для каждого канала таким образом, чтобы среднее значение яркости всех каналов было равно среднему значению яркости пикселей на всем изображении.
5. Умножает значения пикселей каждого канала на соответствующий коэффициент масштабирования.
6. Объединяет каналы обратно в изображение.

Вывод:

![2](prj.lab/lab09/2.png "lab09")
